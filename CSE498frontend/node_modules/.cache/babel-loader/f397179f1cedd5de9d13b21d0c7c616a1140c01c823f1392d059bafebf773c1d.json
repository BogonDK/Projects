{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bogon\\\\CSE498\\\\ally-offers-ecosystem\\\\frontend\\\\src\\\\screens\\\\CustomerScreens\\\\Offers\\\\Offers.js\",\n  _s = $RefreshSig$();\nimport React, { Component, useEffect, useState } from 'react';\nimport styles from './Offers.css';\nimport Carousel from \"../../../components/Carousel/Carousel\";\nimport PageHeader from '../../../components/PageHeader/PageHeader';\nimport { FooterContainer } from '../../../containers/footer';\nimport { getOfferDetails } from '../../../actions/offersAction';\nimport { getBusinessDetails } from '../../../actions/customerAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst scrollToTravel = id => {\n  const element = document.getElementById(id);\n  element === null || element === void 0 ? void 0 : element.scrollIntoView({\n    behavior: 'smooth'\n  });\n};\nconst Offers = () => {\n  _s();\n  const [allOffersWithDetails, setAllOffersWithDetails] = useState([]);\n  const offerIDs = localStorage.getItem('allOfferIDs').split(',');\n  useEffect(() => {\n    const getAllOfferDetails = async () => {\n      let categorizedOffers = [];\n      await Promise.all(offerIDs.map(async offer => {\n        const details = await getOfferDetails(offer);\n        const businessID = details.businessId;\n        const businessDetails = await getBusinessDetails(businessID);\n        const businessName = businessDetails.businessName;\n        const category = businessDetails.category;\n        if (!categorizedOffers.find(item => item.category === category)) {\n          categorizedOffers.push({\n            category: category,\n            offers: []\n          });\n        }\n        ;\n        const data = {\n          offerID: details._id,\n          businessID: businessID,\n          businessName: businessName,\n          category: category,\n          title: details.title,\n          description: details.description,\n          code: details.offerCode,\n          images: details.images,\n          startDate: details.startDate,\n          endDate: details.endDate\n        };\n        const offerCategoryList = categorizedOffers.find(item => item.category === category);\n        offerCategoryList.offers.push(data);\n      }));\n      setAllOffersWithDetails(categorizedOffers);\n    };\n    getAllOfferDetails();\n  }, []);\n  const getCategoryLabel = category => {\n    if (category === 'food') {\n      return 'Food & Drink';\n    } else if (category === 'home') {\n      return 'Home';\n    } else if (category === 'beauty') {\n      return 'Beauty & Spas';\n    } else if (category === 'retail') {\n      return 'Fashion';\n    } else {\n      return 'Other';\n    }\n    ;\n  };\n  const carouselCards = () => {\n    return allOffersWithDetails.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: item.category,\n        className: \"carousel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"carousel-title text-center py-20 font-bold font-medium leading-tight text-3xl\",\n          children: getCategoryLabel(item.category)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Carousel, {\n          offers: item.offers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)]\n      }, item.category, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-center bg-gray-50 text-gray-800 py-20 text-3xl font-bold font-medium leading-tight text-5xl\",\n      children: \"Welcome, Ally Customer!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => scrollToTravel('home'),\n      className: \"button bg-blue-500 text-white font-bold py-2 px-4 rounded\",\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => scrollToTravel('food'),\n      className: \"button bg-blue-500 text-white font-bold py-2 px-4 rounded\",\n      children: \"Food & Drink\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => scrollToTravel('beauty'),\n      className: \"button bg-blue-500 text-white font-bold py-2 px-4 rounded\",\n      children: \"Beauty & Spas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => scrollToTravel('retail'),\n      className: \"button bg-blue-500 text-white font-bold py-2 px-4 rounded\",\n      children: \"Fashion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), allOffersWithDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: carouselCards()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(FooterContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\n_s(Offers, \"oN8Ae7OqNm65Opb23mtSLYFHZLA=\");\n_c = Offers;\nexport default Offers;\nvar _c;\n$RefreshReg$(_c, \"Offers\");","map":{"version":3,"names":["React","Component","useEffect","useState","styles","Carousel","PageHeader","FooterContainer","getOfferDetails","getBusinessDetails","scrollToTravel","id","element","document","getElementById","scrollIntoView","behavior","Offers","allOffersWithDetails","setAllOffersWithDetails","offerIDs","localStorage","getItem","split","getAllOfferDetails","categorizedOffers","Promise","all","map","offer","details","businessID","businessId","businessDetails","businessName","category","find","item","push","offers","data","offerID","_id","title","description","code","offerCode","images","startDate","endDate","offerCategoryList","getCategoryLabel","carouselCards"],"sources":["C:/Users/bogon/CSE498/ally-offers-ecosystem/frontend/src/screens/CustomerScreens/Offers/Offers.js"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react';\r\nimport styles from './Offers.css';\r\nimport Carousel from \"../../../components/Carousel/Carousel\";\r\nimport PageHeader from '../../../components/PageHeader/PageHeader';\r\nimport { FooterContainer } from '../../../containers/footer';\r\nimport { getOfferDetails } from '../../../actions/offersAction';\r\nimport { getBusinessDetails } from '../../../actions/customerAction';\r\n\r\nconst scrollToTravel = (id) => {\r\n    const element = document.getElementById(id);\r\n    element?.scrollIntoView({ behavior: 'smooth' });\r\n};\r\n\r\nconst Offers = () => {\r\n    const [allOffersWithDetails, setAllOffersWithDetails] = useState([]);\r\n    const offerIDs = localStorage.getItem('allOfferIDs').split(',');\r\n\r\n    useEffect(() => {\r\n        const getAllOfferDetails = async () => {\r\n            let categorizedOffers = [];\r\n            await Promise.all(offerIDs.map(async (offer) => {\r\n                const details = await getOfferDetails(offer);\r\n                const businessID = details.businessId;\r\n                const businessDetails = await getBusinessDetails(businessID);\r\n                const businessName = businessDetails.businessName;\r\n                const category = businessDetails.category;\r\n                if (!categorizedOffers.find(item => item.category === category)) {\r\n                    categorizedOffers.push({ category: category, offers: [] })\r\n                };\r\n                const data = {\r\n                    offerID: details._id,\r\n                    businessID: businessID,\r\n                    businessName: businessName,\r\n                    category: category,\r\n                    title: details.title,\r\n                    description: details.description,\r\n                    code: details.offerCode,\r\n                    images: details.images,\r\n                    startDate: details.startDate,\r\n                    endDate: details.endDate,\r\n                };\r\n                const offerCategoryList = categorizedOffers.find(item => item.category === category);\r\n                offerCategoryList.offers.push(data);\r\n            }));\r\n            setAllOffersWithDetails(categorizedOffers);\r\n        };\r\n        getAllOfferDetails();\r\n    }, []);\r\n\r\n    const getCategoryLabel = (category) => {\r\n        if (category === 'food') {\r\n\t\t\treturn 'Food & Drink';\r\n\t\t} else if (category === 'home') {\r\n\t\t\treturn 'Home';\r\n\t\t} else if (category === 'beauty') {\r\n\t\t\treturn 'Beauty & Spas';\r\n\t\t} else if (category === 'retail') {\r\n\t\t\treturn 'Fashion';\r\n\t\t} else {\r\n\t\t\treturn 'Other';\r\n\t\t};\r\n    };\r\n\r\n    const carouselCards = () => {\r\n        return (\r\n            allOffersWithDetails.map((item) => {\r\n                return (\r\n                    <div id={item.category} className=\"carousel\" key={item.category}>\r\n                        <h3 className=\"carousel-title text-center py-20 font-bold font-medium leading-tight text-3xl\">{getCategoryLabel(item.category)}</h3>\r\n                        <Carousel offers={item.offers}/>\r\n                    </div>\r\n                );\r\n            })\r\n        );\r\n    };\r\n\r\n    return  (\r\n        <div>\r\n            <PageHeader/>\r\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n            <h3 className=\"text-center bg-gray-50 text-gray-800 py-20 text-3xl font-bold font-medium leading-tight text-5xl\">Welcome, Ally Customer!</h3>\r\n\r\n            <button onClick={()=>scrollToTravel('home')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Home</button>\r\n            <button onClick={()=>scrollToTravel('food')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Food & Drink</button>\r\n            <button onClick={()=>scrollToTravel('beauty')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Beauty & Spas</button>\r\n            <button onClick={()=>scrollToTravel('retail')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Fashion</button>\r\n\r\n            {/* <button onClick={()=>scrollToTravel('to-do')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Things To Do</button>\r\n            <button onClick={()=>scrollToTravel('health')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Health & Fitness</button>\r\n            <button onClick={()=>scrollToTravel('travel')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">Travel</button>\r\n            <button onClick={()=>scrollToTravel('more')} className=\"button bg-blue-500 text-white font-bold py-2 px-4 rounded\">More</button> */}\r\n            \r\n            {allOffersWithDetails && (\r\n                <div>\r\n                    {carouselCards()}\r\n                </div>\r\n            )}\r\n            <FooterContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Offers;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}